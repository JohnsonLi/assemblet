{% extends "base.html" %} 

{% block content %}
    <div class="row stats-header">
    <h4 id="stats-name">Statistics for {{user}}</h4>

    Completion Status: {{(stats['solved_puzzles'] / stats['total_puzzles'] * 100)|round(1)}}% ({{stats['solved_puzzles']}} out of {{stats['total_puzzles']}} puzzles) <br>
    </div>

    <div class="row stats-content">
    {% for puzzle in stats['puzzles'] %}
        <div class="col s2">
            <div class="stats-entry card">
                <div class="activator">
                <span class="card-title activator"><span class="stats-id activator"> {{puzzle['puzzleid']}}</span> - <span class="stats-title activator"> {{stats['extraInfo'][puzzle['puzzleid']]['title']}}</span></span>
                <p class="activator">
                    Attempts: <span class="stats-attempts activator"> {{puzzle['attempts']}} </span> <br>
                    Time Taken: <span class="stats-time-spent activator"> {{puzzle['timetaken']}}</span>s <br>
                
                {% if puzzle['solved'] %} 
                <i class="material-icons right green-text activator">check</i>
                {% else %} 
                <i class="material-icons right unfinished activator">check</i>
                {% endif %} 
                <br>
                </p>
                </div>
                <div class="card-reveal">
                    <span class="card-title"><span class="stats-id"> {{puzzle['puzzleid']}}</span> - <span class="stats-title"> {{stats['extraInfo'][puzzle['puzzleid']]['title']}}</span> <i class="material-icons right">close</i></span>
                    <p>
                        Instructions Practiced: {{stats['extraInfo'][puzzle['puzzleid']]['instructions']}}
                    </p>
                </div>
            </div>
        </div>
    {% endfor %}
    </div>




{% endblock %}